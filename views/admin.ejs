<%- include("templates/header") %>

<div class="container my-5">
  <div class="card shadow-lg rounded-lg border-info">
    <div class="card-header bg-info bg-gradient text-white d-flex align-items-center">
      <h2 class="h5 mb-0 flex-grow-1"><%= heading %></h2>
    </div>
    <div class="card-body p-0">
      <div class="table-responsive">
        <table class="table table-striped table-hover mb-0 align-middle">
          <thead class="table-dark">
            <tr>
              <th scope="col">Name</th>
              <th scope="col">Role</th>
              <th scope="col" class="text-end">Actions</th>
            </tr>
          </thead>
          <tbody>
            <% users.forEach((user, i) => { 
                 // alternate row highlight classes
                 const rowClass = i % 2 === 0 ? 'table-light' : 'table-info';
                 const badgeClass = user.user_type === 'admin' ? 'bg-warning text-dark' : 'bg-success';
            %>
              <tr class="<%= rowClass %>">
                <td><%= user.name %></td>
                <td>
                  <span class="badge rounded-pill <%= badgeClass %> text-uppercase">
                    <%= user.user_type %>
                  </span>
                </td>
                <td class="text-end">
                  <%- include("templates/user", { user: user }) %>
                </td>
              </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    </div>
    
  </div>
</div>

<%- include("templates/footer") %>
